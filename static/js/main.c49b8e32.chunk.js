(this.webpackJsonpled_spectrum_remote=this.webpackJsonpled_spectrum_remote||[]).push([[0],{21:function(t,e,a){t.exports=a(49)},26:function(t,e,a){},44:function(t,e,a){},45:function(t,e,a){},46:function(t,e,a){},47:function(t,e,a){},48:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(20),s=a.n(r),o=(a(26),a(10)),l=a(8),c=a(2),u=a(3),p=a(5),d=a(4),h=a(6),m=a(7),f=a.n(m),v=(a(44),a(9)),b=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(p.a)(this,Object(d.a)(e).call(this,t))).state={clickedAt:null},a.intervalId=null,a.handleClick=a.handleClick.bind(Object(v.a)(a)),a.handleFinish=a.handleFinish.bind(Object(v.a)(a)),a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"handleClick",value:function(t){var e=this;t.persist(),t.preventDefault(),t.stopPropagation(),this.setState({clickedAt:new Date},(function(){e.intervalId=setInterval((function(){var a=new Date-e.state.clickedAt,n=e.props.timeout||1e3;e.state.clickedAt&&a>=n&&e.handleFinish(t)}),100)}))}},{key:"handleFinish",value:function(t){(t.persist(),t.preventDefault(),t.stopPropagation(),this.state.clickedAt)&&(this.intervalId&&clearInterval(this.intervalId),new Date-this.state.clickedAt<(this.props.timeout||1e3)?this.props.onClickComplete&&this.props.onClickComplete(t):this.props.onHoldComplete&&this.props.onHoldComplete(t),this.setState({clickedAt:null}))}},{key:"render",value:function(){var t="holdable"+(this.props.className?" ".concat(this.props.className):"")+(this.state.clickedAt?" holdable-active":"");return i.a.createElement("div",{className:t,onMouseDown:this.handleClick,onTouchStart:this.handleClick,onMouseUp:this.handleFinish,onTouchCancel:this.handleFinish,onTouchEnd:this.handleFinish,style:this.props.style||{}},this.props.children)}}]),e}(n.Component);a(45);function g(t,e,a){var n,i=(t=Math.floor(192*t/256))%32*8,r=a*(255-e)/256,s=a*(256-e*i/256)/256,o=a*(256-e*(255-i)/256)/256;switch(Math.floor(t/32)){case 0:n=[a,o,r];break;case 1:n=[s,a,r];break;case 2:n=[r,a,o];break;case 3:n=[r,s,a];break;case 4:n=[o,r,a];break;case 5:default:n=[a,r,s]}return"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2])}var k=function(t){function e(t){var a;Object(c.a)(this,e),a=Object(p.a)(this,Object(d.a)(e).call(this,t));for(var n=[],i=0;i<16;i++)n.push(60*Math.random()+20);return a.state={heights:n},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){for(var t=this,e=[],a=function(a){e.push(i.a.createElement("div",{className:"bar",style:{width:18,height:t.state.heights[a],margin:2,backgroundColor:g(t.props.barHues[a],t.props.barSaturation[a],255),outline:t.props.selected===a?"1px solid white":void 0,cursor:"pointer"},key:a,onClick:function(e){t.props.onClick(a),e.stopPropagation()}}))},n=0;n<16;n++)a(n);return i.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"center"}},e)}}]),e}(n.Component),y=(a(46),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(p.a)(this,Object(d.a)(e).call(this,t))).state={saturation:255,syncSaturation:!0},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(t,e){(this.props.saturation!==t.saturation&&this.state.syncSaturation||!e.syncSaturation&&this.state.syncSaturation)&&this.setState({saturation:this.props.saturation})}},{key:"render",value:function(){for(var t=this,e=this.props,a=e.dimensions,n=e.size,r=e.margin,s=e.hue,o=e.disabled,l=a*a,c=(n+2*r)*a,u=[],p=function(e){var a=Math.floor(e/l*255),c=g(a,t.state.saturation,255);u.push(i.a.createElement("div",{className:"gridItem",style:{width:n,height:n,backgroundColor:c,margin:r,borderRadius:n/12,display:"flex",justifyContent:"center",alignItems:"center",transition:"all 0.2s",outline:s===a?"1px solid white":"1px solid transparent",pointerEvents:o?"none":void 0,filter:o?"grayscale(90%) blur(1px)":void 0,cursor:o?void 0:"pointer"},key:e,onClick:function(e){t.props.onClick(a,Number(t.state.saturation)),e.stopPropagation()}},i.a.createElement("div",{style:{opacity:0,transition:"all 0.2s"}},a)))},d=0;d<l;d++)p(d);return i.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:c+2*r}},i.a.createElement("div",{style:{transition:"all 0.2s",backgroundColor:o?"#2a2a2a":"black",display:"flex",flexWrap:"wrap",width:c,padding:r,textShadow:"1px 1px black"}},u),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:16}},i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement("label",{style:{paddingRight:4}},"Saturation"),i.a.createElement("input",{type:"range",min:"0",max:"255",value:this.state.saturation,onClick:function(e){t.setState({saturation:e.target.value}),e.stopPropagation()},onChange:function(e){t.setState({saturation:e.target.value}),e.stopPropagation()}}),i.a.createElement("span",{style:{paddingLeft:8}},this.state.saturation)),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("input",{id:"saturationCheck",type:"checkbox",checked:this.state.syncSaturation,onClick:function(t){return t.stopPropagation()},onChange:function(e){t.setState({syncSaturation:!t.state.syncSaturation}),e.stopPropagation()}}),i.a.createElement("label",{htmlFor:"saturationCheck",onClick:function(t){return t.stopPropagation()}},"Sync Saturation"))))}}]),e}(n.Component)),S=(a(47),function(t){function e(){return Object(c.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t="sk-cube-grid";return this.props.visible||(t+=" hidden"),i.a.createElement("div",{className:t,style:{width:this.props.width||32,height:this.props.height||32}},i.a.createElement("div",{className:"sk-cube sk-cube1"}),i.a.createElement("div",{className:"sk-cube sk-cube2"}),i.a.createElement("div",{className:"sk-cube sk-cube3"}),i.a.createElement("div",{className:"sk-cube sk-cube4"}),i.a.createElement("div",{className:"sk-cube sk-cube5"}),i.a.createElement("div",{className:"sk-cube sk-cube6"}),i.a.createElement("div",{className:"sk-cube sk-cube7"}),i.a.createElement("div",{className:"sk-cube sk-cube8"}),i.a.createElement("div",{className:"sk-cube sk-cube9"}))}}]),e}(n.Component)),C=(a(48),function(t){function e(t){var a;Object(c.a)(this,e),a=Object(p.a)(this,Object(d.a)(e).call(this,t));var n=new Date;return a.state={time:n.toLocaleTimeString(),date:n.toLocaleDateString()},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.intervalID=setInterval((function(){var e=new Date;t.setState({time:e.toLocaleTimeString(),date:e.toLocaleDateString()})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"text",style:{color:g(this.props.textHue,this.props.textSaturation,255),fontSize:16,width:"100%",outline:this.props.selected?"1px solid white":void 0,cursor:"pointer"},onClick:function(e){t.props.onClick(e),e.stopPropagation()}},i.a.createElement("div",{style:{display:"flex",alignItems:"flex-begin",justifyContent:"space-between",width:"100%"}},i.a.createElement("div",{style:{fontSize:32}},this.state.time),i.a.createElement("div",{style:{paddingTop:4}},"Weather")),i.a.createElement("div",null,this.state.date))}}]),e}(n.Component)),E="https://home.amcolash.com:9000/spectrum/color",x=function(t){function e(t){var a;Object(c.a)(this,e),a=Object(p.a)(this,Object(d.a)(e).call(this,t));var n=localStorage.getItem("presets");return n=n?JSON.parse(n):{},a.state={loading:!0,setting:!1,error:null,barHues:[],barSaturation:[],textHue:0,textSaturation:0,selected:-1,presets:n,preset:"",tmpHue:null},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.getServerColors()}},{key:"getServerColors",value:function(t){var e=this;f.a.get(E).then((function(a){return e.setState(Object(l.a)({loading:!1,setting:!1,tmpHue:null,preset:t||""},a.data))})).catch((function(t){console.error(t),e.setState({error:t})}))}},{key:"setServerColors",value:function(t,e){var a=this;this.setState({setting:!0,preset:e||""},(function(){f.a.post(E+"?data="+JSON.stringify(t)).then((function(t){return a.setState(Object(l.a)({loading:!1,setting:!1,tmpHue:null,preset:e||""},t.data))})).catch((function(t){console.error(t)}))}))}},{key:"saveColorPreset",value:function(){var t=localStorage.getItem("presets");t=t?JSON.parse(t):{};var e=prompt("Preset Name?","default");if(e){var a=this.state,n=a.barHues,i=a.barSaturation,r=a.textHue,s=a.textSaturation;t[e]={barHues:n,barSaturation:i,textHue:r,textSaturation:s},localStorage.setItem("presets",JSON.stringify(t)),this.setState({presets:t,preset:e})}}},{key:"loadColorPreset",value:function(t){var e=localStorage.getItem("presets");if(e&&(e=JSON.parse(e))[t]){var a=e[t],n=a.barHues,i=a.barSaturation,r=a.textHue,s=a.textSaturation;this.setServerColors({barHues:n,barSaturation:i,textHue:r,textSaturation:s},t)}}},{key:"updateColor",value:function(t,e){var a=this;this.setState({tmpHue:t},(function(){var n=a.state,i=n.barHues,r=n.barSaturation,s=n.textHue,l=n.textSaturation,c=n.selected;-1!==a.state.selected&&(-2===a.state.selected?(s=t,l=e):(i=Object(o.a)(a.state.barHues),r=Object(o.a)(a.state.barSaturation),i[c]=t,r[c]=e),a.setServerColors({barHues:i,barSaturation:r,textHue:s,textSaturation:l}))}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.barHues,r=e.barSaturation,s=e.error,c=e.loading,u=e.selected,p=e.setting,d=e.tmpHue,h=e.textHue,m=e.textSaturation,v="Selected: ",g=-1,x=255;return-1===u?v+="Nothing":-2===u?(v+="Text",g=h,x=m):(v+="Bar "+u,g=a[u],x=r[u]),g=null!==d&&-1!==u?d:g,i.a.createElement("div",{className:"app",style:{display:"flex",flexDirection:"column",flexWrap:"wrap",alignContent:"center",justifyContent:"center",alignItems:"center",height:"100vh"},onClick:function(){return t.setState({selected:-1,tmpHue:null})}},s?i.a.createElement("h1",null,s.message):c?i.a.createElement(n.Fragment,null,i.a.createElement("h1",null,"Loading..."),i.a.createElement(S,{visible:!0})):i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"display",style:{width:"22em",height:"12.3em",border:"1px solid gray",display:"flex",flexDirection:"column",padding:3,borderRadius:3,marginBottom:20}},i.a.createElement(C,{textHue:h,textSaturation:m,selected:-2===this.state.selected,onClick:function(){return t.setState({selected:-2,tmpHue:null})}}),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexGrow:1,position:"relative",paddingBottom:10}},i.a.createElement(S,{visible:p}),i.a.createElement("div",{style:{opacity:p||-1===u?0:1,transition:"all 0.35s",position:"absolute"}},v)),i.a.createElement(k,{barHues:a,barSaturation:r,selected:u,onClick:function(e){return t.setState({selected:e,tmpHue:null})}})),i.a.createElement(y,{dimensions:7,size:32,margin:2,hue:g,saturation:x,disabled:-1===u,onClick:function(e,a){return t.updateColor(e,a)}}),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:20}},i.a.createElement("div",null,i.a.createElement("label",null,"Presets"),i.a.createElement("select",{onChange:function(e){return t.loadColorPreset(e.target.value)},value:this.state.preset},[""].concat(Object(o.a)(Object.keys(this.state.presets))).sort((function(t,e){return t.localeCompare(e)})).map((function(t){return i.a.createElement("option",{value:t,key:t},t)}))),i.a.createElement("button",{onClick:function(){return t.saveColorPreset(!0)}},"Save"),i.a.createElement(b,{onClickComplete:function(){t.setState({setting:!0},(function(){return f.a.post(E+"?reset").then((function(e){return t.setState(Object(l.a)({loading:!1,setting:!1,tmpHue:null,preset:""},e.data))}))}))},onHoldComplete:function(){if(""!==t.state.preset&&window.confirm("Are you sure you want to delete ".concat(t.state.preset,"?"))){var e=localStorage.getItem("presets");delete(e=e?JSON.parse(e):{})[t.state.preset],localStorage.setItem("presets",JSON.stringify(e)),t.setState({presets:e,preset:""})}},style:{display:"inline-block"}},i.a.createElement("button",null,"Reset"))),i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){t.setState({setting:!0},(function(){return f.a.post(E+"?shift=-1").then((function(e){return t.setState(Object(l.a)({loading:!1,setting:!1,tmpHue:null,preset:""},e.data))}))}))}},"<<"),i.a.createElement("button",{onClick:function(){t.setState({setting:!0},(function(){return f.a.post(E+"?shift=1").then((function(e){return t.setState(Object(l.a)({loading:!1,setting:!1,tmpHue:null,preset:""},e.data))}))}))}},">>")))))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.c49b8e32.chunk.js.map