(this.webpackJsonpled_spectrum_remote=this.webpackJsonpled_spectrum_remote||[]).push([[0],{20:function(t,e,a){t.exports=a(47)},25:function(t,e,a){},43:function(t,e,a){},44:function(t,e,a){},45:function(t,e,a){},46:function(t,e,a){},47:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),s=(a(25),a(8)),l=a(19),c=a(2),u=a(3),p=a(5),d=a(4),h=a(6),m=a(7),f=a.n(m);a(43),a(44);function v(t,e,a){var n,r=(t=Math.floor(192*t/256))%32*8,o=a*(255-e)/256,i=a*(256-e*r/256)/256,s=a*(256-e*(255-r)/256)/256;switch(Math.floor(t/32)){case 0:n=[a,s,o];break;case 1:n=[i,a,o];break;case 2:n=[o,a,s];break;case 3:n=[o,i,a];break;case 4:n=[s,o,a];break;case 5:default:n=[a,o,i]}return"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2])}var g=function(t){function e(t){var a;Object(c.a)(this,e),a=Object(p.a)(this,Object(d.a)(e).call(this,t));for(var n=[],r=0;r<16;r++)n.push(60*Math.random()+20);return a.state={heights:n},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){for(var t=this,e=[],a=function(a){e.push(r.a.createElement("div",{className:"bar",style:{width:18,height:t.state.heights[a],margin:2,backgroundColor:v(t.props.barHues[a],t.props.barSaturation[a],255),outline:t.props.selected===a?"1px solid white":void 0},key:a,onClick:function(e){t.props.onClick(a),e.stopPropagation()}}))},n=0;n<16;n++)a(n);return r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"center"}},e)}}]),e}(n.Component),b=(a(45),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(p.a)(this,Object(d.a)(e).call(this,t))).state={saturation:255},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(t){this.props.saturation!==t.saturation&&this.setState({saturation:this.props.saturation})}},{key:"render",value:function(){for(var t=this,e=this.props,a=e.dimensions,n=e.size,o=e.margin,i=e.hue,s=a*a,l=(n+2*o)*a,c=[],u=function(e){var a=Math.floor(e/s*255),l=v(a,t.state.saturation,255);c.push(r.a.createElement("div",{className:"gridItem",style:{width:n,height:n,backgroundColor:l,margin:o,borderRadius:n/12,display:"flex",justifyContent:"center",alignItems:"center",transition:"all 0.2s",outline:i===a?"1px solid white":"1px solid transparent"},key:e,onClick:function(e){t.props.onClick(a,Number(t.state.saturation)),e.stopPropagation()}},r.a.createElement("div",{style:{opacity:0,transition:"all 0.2s"}},a)))},p=0;p<s;p++)u(p);return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:l+2*o}},r.a.createElement("div",{style:{backgroundColor:"black",display:"flex",flexWrap:"wrap",width:l,padding:o,textShadow:"1px 1px black"}},c),r.a.createElement("div",{style:{display:"flex",alignItems:"center",paddingTop:2*o}},r.a.createElement("label",{style:{paddingRight:5}},"Saturation"),r.a.createElement("input",{type:"range",min:"0",max:"255",value:this.state.saturation,onClick:function(e){t.setState({saturation:e.target.value}),e.stopPropagation()},onChange:function(e){t.setState({saturation:e.target.value}),e.stopPropagation()}})))}}]),e}(n.Component)),S=(a(46),function(t){function e(t){var a;Object(c.a)(this,e),a=Object(p.a)(this,Object(d.a)(e).call(this,t));var n=new Date;return a.state={time:n.toLocaleTimeString(),date:n.toLocaleDateString()},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.intervalID=setInterval((function(){var e=new Date;t.setState({time:e.toLocaleTimeString(),date:e.toLocaleDateString()})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"text",style:{color:v(this.props.textHue,this.props.textSaturation,255),fontSize:16,width:"100%",outline:this.props.selected?"1px solid white":void 0},onClick:function(e){t.props.onClick(e),e.stopPropagation()}},r.a.createElement("div",{style:{display:"flex",alignItems:"flex-begin",justifyContent:"space-between",width:"100%"}},r.a.createElement("div",{style:{fontSize:32}},this.state.time),r.a.createElement("div",{style:{paddingTop:4}},"Weather")),r.a.createElement("div",null,this.state.date))}}]),e}(n.Component)),y="https://home.amcolash.com:9000/spectrum/color",x=function(t){function e(t){var a;Object(c.a)(this,e),a=Object(p.a)(this,Object(d.a)(e).call(this,t));var n=localStorage.getItem("presets");return n=n?JSON.parse(n):{},a.state={loading:!0,error:null,barHues:[],barSaturation:[],textHue:0,textSaturation:0,selected:-1,presets:n,preset:""},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.getServerColors()}},{key:"getServerColors",value:function(t){var e=this;f.a.get(y).then((function(a){var n=a.data;e.setState(Object(l.a)({loading:!1,setting:!1,preset:t||""},n))})).catch((function(t){console.error(t),e.setState({error:t})}))}},{key:"setServerColors",value:function(t,e){var a=this;this.setState({setting:!0,preset:e||""},(function(){f.a.post(y+"?data="+JSON.stringify(t)).then((function(){return a.getServerColors(e)})).catch((function(t){console.error(t)}))}))}},{key:"saveColorPreset",value:function(){var t=localStorage.getItem("presets");t=t?JSON.parse(t):{};var e=prompt("Preset Name?","default");if(e){var a=this.state,n=a.barHues,r=a.barSaturation,o=a.textHue,i=a.textSaturation;t[e]={barHues:n,barSaturation:r,textHue:o,textSaturation:i},localStorage.setItem("presets",JSON.stringify(t)),this.setState({presets:t,preset:e})}}},{key:"loadColorPreset",value:function(t){var e=localStorage.getItem("presets");if(e&&(e=JSON.parse(e))[t]){var a=e[t],n=a.barHues,r=a.barSaturation,o=a.textHue,i=a.textSaturation;this.setServerColors({barHues:n,barSaturation:r,textHue:o,textSaturation:i},t)}}},{key:"updateColor",value:function(t,e){var a=this.state,n=a.barHues,r=a.barSaturation,o=a.textHue,i=a.textSaturation,l=a.selected;-1!==this.state.selected&&(-2===this.state.selected?(o=t,i=e):(n=Object(s.a)(this.state.barHues),r=Object(s.a)(this.state.barSaturation),n[l]=t,r[l]=e),this.setServerColors({barHues:n,barSaturation:r,textHue:o,textSaturation:i}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.barHues,o=e.barSaturation,i=e.error,l=e.loading,c=e.selected,u=e.setting,p=e.textHue,d=e.textSaturation,h="Selected: ",m=-1,v=255;return-1===c?h+="Nothing":-2===c?(h+="Text",m=p,v=d):(h+="Bar "+c,m=a[c],v=o[c]),r.a.createElement("div",{className:"app",style:{display:"flex",flexDirection:"column",flexWrap:"wrap",alignContent:"center",justifyContent:"center",alignItems:"center",height:"100vh"},onClick:function(){return t.setState({selected:-1})}},i?r.a.createElement("h1",null,i.message):l?r.a.createElement("h1",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"display",style:{width:"22em",height:"12.3em",border:"1px solid gray",display:"flex",flexWrap:"wrap",padding:3,borderRadius:3,marginBottom:20}},r.a.createElement(S,{textHue:p,textSaturation:d,selected:-2===this.state.selected,onClick:function(){return t.setState({selected:-2})}}),r.a.createElement("div",{style:{width:"100%",textAlign:"center",visibility:"Selected: Nothing"!==h||u?void 0:"hidden"}},u?"Setting Colors...":h),r.a.createElement(g,{barHues:a,barSaturation:o,selected:c,onClick:function(e){return t.setState({selected:e})}})),r.a.createElement(b,{dimensions:7,size:32,margin:2,hue:m,saturation:v,onClick:function(e,a){return t.updateColor(e,a)}}),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:20}},r.a.createElement("div",null,r.a.createElement("label",null,"Presets"),r.a.createElement("select",{onChange:function(e){return t.loadColorPreset(e.target.value)},value:this.state.preset},[""].concat(Object(s.a)(Object.keys(this.state.presets))).map((function(t){return r.a.createElement("option",{value:t,key:t},t)}))),r.a.createElement("button",{onClick:function(){return t.saveColorPreset(!0)}},"Save"),r.a.createElement("button",{onClick:function(){t.setState({setting:!0},(function(){return f.a.post(y+"?reset").then((function(){return t.getServerColors()}))}))}},"Reset")))))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.716b40d7.chunk.js.map